/* ---------------- */
/* --- morpho.c --- */
/* ---------------- */

/*
 * Copyright (c) 2020 - 2021, Lionel Lacassagne, All rights reserved
 * University of Paris Sud, Laboratoire de Recherche en Informatique 
 * Creation: 2020-09-11:
 */

#include <stdio.h>
#include <stdlib.h>
#include <stddef.h>
#include <string.h>

#include "nrtype.h"
#include "nrdef.h"
#include "nrutil.h"

#include "morpho.h"

#ifdef MORPHO_FUNCTION

#ifdef MORPHO_OPERATEUR_IS_ADD

//#pragma message("ENABLE_OPERATOR_IS_ADD")

// ##########################################
// ### les operateurs morpho sont des ADD ###
// ##########################################

// -----------------------------
uint8 ui8or2(uint8 x0, uint8 x1)
// -----------------------------
{
    return x0 + x1;
}
// ---------------------------------------
uint8 ui8or3(uint8 x0, uint8 x1, uint8 x2)
// ---------------------------------------
{
    return x0 + x1 + x2;
}
// ---------------------------------------------------------------------------------------------------
uint8 ui8or9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ---------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ---------------------------------
uint32 ui32or2(uint32 x0, uint32 x1)
// ---------------------------------
{
    return x0 + x1;
}
// --------------------------------------------
uint32 ui32or3(uint32 x0, uint32 x1, uint32 x2)
// --------------------------------------------
{
    return x0 + x1 + x2;
}
// --------------------------------------------------------------------------------------------------------------
uint32 ui32or9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// --------------------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ------------------------------
uint8 ui8and2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 + x1;
}
// ----------------------------------------
uint8 ui8and3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 + x1 + x2;
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8and9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ----------------------------------
uint32 ui32and2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 + x1;
}
// ---------------------------------------------
uint32 ui32and3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 + x1 + x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32and9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ------------------------------
uint8 ui8max2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 + x1;
}
// ----------------------------------------
uint8 ui8max3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 + x1 + x2;
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8max9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ----------------------------------
uint32 ui32max2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 + x1;
}
// ---------------------------------------------
uint32 ui32max3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 + x1 + x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32max9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ------------------------------
uint8 ui8min2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 + x1;
}
// ----------------------------------------
uint8 ui8min3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 + x1 + x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32min9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
// ----------------------------------
uint32 ui32min2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 + x1;
}
// ---------------------------------------------
uint32 ui32min3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 + x1 + x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32min9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 + x1 + x2 + x3 + x4 + x5 + x6 + x7 + x8;
}
#endif // MORPHO_OPERATEUR_IS_ADD


#ifdef MORPHO_OPERATEUR_IS_AND_OR

// #############################################
// ### les operateurs morpho sont des AND/OR ###
// #############################################

// -----------------------------
uint8 ui8or2(uint8 x0, uint8 x1)
// -----------------------------
{
    return x0 | x1;
}
// ---------------------------------------
uint8 ui8or3(uint8 x0, uint8 x1, uint8 x2)
// ---------------------------------------
{
    return x0 | x1 | x2;
}
// ---------------------------------------------------------------------------------------------------
uint8 ui8or9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ---------------------------------------------------------------------------------------------------
{
    return x0 | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8;
}
// ---------------------------------
uint32 ui32or2(uint32 x0, uint32 x1)
// ---------------------------------
{
    return x0 | x1;
}
// --------------------------------------------
uint32 ui32or3(uint32 x0, uint32 x1, uint32 x2)
// --------------------------------------------
{
    return x0 | x1 | x2;
}
// --------------------------------------------------------------------------------------------------------------
uint32 ui32or9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// --------------------------------------------------------------------------------------------------------------
{
    return x0 | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8;
}
// ------------------------------
uint8 ui8and2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 & x1;
}
// ----------------------------------------
uint8 ui8and3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 & x1 & x2;
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8and9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    return x0 & x1 & x2 & x3 & x4 & x5 & x6 & x7 & x8;
}
// ----------------------------------
uint32 ui32and2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 & x1;
}
// ---------------------------------------------
uint32 ui32and3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 & x1 & x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32and9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 & x1 & x2 & x3 & x4 & x5 & x6 & x7 & x8;
}
// ------------------------------
uint8 ui8max2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 | x1;
}
// ----------------------------------------
uint8 ui8max3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 | x1 | x2;
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8max9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    return x0 | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8;
}
// ----------------------------------
uint32 ui32max2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 | x1;
}
// ---------------------------------------------
uint32 ui32max3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 | x1 | x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32max9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8;
}
// ------------------------------
uint8 ui8min2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 & x1;
}
// ----------------------------------------
uint8 ui8min3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 & x1 & x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32min9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 & x1 & x2 & x3 & x4 & x5 & x6 & x7 & x8;
}
// ----------------------------------
uint32 ui32min2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 & x1;
}
// ---------------------------------------------
uint32 ui32min3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 & x1 & x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32min9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 & x1 & x2 & x3 & x4 & x5 & x6 & x7 & x8;
}
#endif // MORPHO_OPERATEUR_IS_AND_OR


//#else // MORPHO_OPERATEUR_IS_ADD

// #######################################################
// ### les operateurs morpho sont correctement definis ###
// #######################################################

#if !defined(MORPHO_OPERATOR_IS_ADD) && !defined(MORPHO_OPERATOR_IS_AND_OR)

// -----------------------------
uint8 ui8or2(uint8 x0, uint8 x1)
// -----------------------------
{
    return x0 | x1;
}
// ---------------------------------------
uint8 ui8or3(uint8 x0, uint8 x1, uint8 x2)
// ---------------------------------------
{
    return x0 | x1 | x2;
}
// ---------------------------------------------------------------------------------------------------
uint8 ui8or9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ---------------------------------------------------------------------------------------------------
{
    return x0 | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8;
}
// ---------------------------------
uint32 ui32or2(uint32 x0, uint32 x1)
// ---------------------------------
{
    return x0 | x1;
}
// --------------------------------------------
uint32 ui32or3(uint32 x0, uint32 x1, uint32 x2)
// --------------------------------------------
{
    return x0 | x1 | x2;
}
// --------------------------------------------------------------------------------------------------------------
uint32 ui32or9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// --------------------------------------------------------------------------------------------------------------
{
    return x0 | x1 | x2 | x3 | x4 | x5 | x6 | x7 | x8;
}
// ------------------------------
uint8 ui8and2(uint8 x0, uint8 x1)
// ------------------------------
{
    return x0 & x1;
}
// ----------------------------------------
uint8 ui8and3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return x0 & x1 & x2;
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8and9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    return x0 & x1 & x2 & x3 & x4 & x5 & x6 & x7 & x8;
}
// ----------------------------------
uint32 ui32and2(uint32 x0, uint32 x1)
// ----------------------------------
{
    return x0 & x1;
}
// ---------------------------------------------
uint32 ui32and3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return x0 & x1 & x2;
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32and9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    return x0 & x1 & x2 & x3 & x4 & x5 & x6 & x7 & x8;
}

// ------------------------------
uint8 ui8max2(uint8 x0, uint8 x1)
// ------------------------------
{
    if(x0 > x1) {
        return x0;
    } else {
        return x1;
    }
}
// ----------------------------------------
uint8 ui8max3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return ui8max2(ui8max2(x0, x1), x2);
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8max9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    // arbre mal balance - volontairement inefficace
    uint8 m = x0;
    if(x1 > m) m = x1;
    if(x2 > m) m = x2;
    if(x3 > m) m = x3;
    if(x4 > m) m = x4;
    if(x5 > m) m = x5;
    if(x6 > m) m = x6;
    if(x7 > m) m = x7;
    if(x8 > m) m = x8;
    
    return m;
}
// ---------------------------------
uint32 ui32max2(uint32 x0, uint32 x1)
// ---------------------------------
{
    if(x0 > x1) {
        return x0;
    } else {
        return x1;
    }
}
// --------------------------------------------
uint32 ui32max3(uint32 x0, uint32 x1, uint32 x2)
// --------------------------------------------
{
    return ui32max2(ui32max2(x0, x1), x2);
}
// --------------------------------------------------------------------------------------------------------------
uint32 ui32max9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// --------------------------------------------------------------------------------------------------------------
{
    // arbre mal balance - volontairement inefficace
    uint32 m = x0;
    if(x1 > m) m = x1;
    if(x2 > m) m = x2;
    if(x3 > m) m = x3;
    if(x4 > m) m = x4;
    if(x5 > m) m = x5;
    if(x6 > m) m = x6;
    if(x7 > m) m = x7;
    if(x8 > m) m = x8;
    
    return m;
}
// ------------------------------
uint8 ui8min2(uint8 x0, uint8 x1)
// ------------------------------
{
    if(x0 < x1)
        return x0;
    else
        return x1;
}
// ----------------------------------------
uint8 ui8min3(uint8 x0, uint8 x1, uint8 x2)
// ----------------------------------------
{
    return ui8min2(ui8min2(x0, x1), x2);
}
// ----------------------------------------------------------------------------------------------------
uint8 ui8min9(uint8 x0, uint8 x1, uint8 x2, uint8 x3, uint8 x4, uint8 x5, uint8 x6, uint8 x7, uint8 x8)
// ----------------------------------------------------------------------------------------------------
{
    // arbre mal balance - volontairement inefficace
    uint8 m = x0;
    if(x1 < m) m = x1;
    if(x2 < m) m = x2;
    if(x3 < m) m = x3;
    if(x4 < m) m = x4;
    if(x5 < m) m = x5;
    if(x6 < m) m = x6;
    if(x7 < m) m = x7;
    if(x8 < m) m = x8;
     
     return m;
}
// ----------------------------------
uint32 ui32min2(uint32 x0, uint32 x1)
// ----------------------------------
{
    if(x0 < x1)
        return x0;
    else
        return x1;
}
// ---------------------------------------------
uint32 ui32min3(uint32 x0, uint32 x1, uint32 x2)
// ---------------------------------------------
{
    return ui32min2(ui32min2(x0, x1), x2);
}
// ---------------------------------------------------------------------------------------------------------------
uint32 ui32min9(uint32 x0, uint32 x1, uint32 x2, uint32 x3, uint32 x4, uint32 x5, uint32 x6, uint32 x7, uint32 x8)
// ---------------------------------------------------------------------------------------------------------------
{
    // arbre mal balance - volontairement inefficace
    uint32 m = x0;
    if(x1 < m) m = x1;
    if(x2 < m) m = x2;
    if(x3 < m) m = x3;
    if(x4 < m) m = x4;
    if(x5 < m) m = x5;
    if(x6 < m) m = x6;
    if(x7 < m) m = x7;
    if(x8 < m) m = x8;
     
     return m;
}
#endif // !defined(MORPHO_OPERATOR_IS_ADD) && !defined(MORPHO_OPERATOR_IS_AND_OR)
#endif // MORPHO_FUNCTION
